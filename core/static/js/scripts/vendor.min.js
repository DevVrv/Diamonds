"use strict";class Vendor{constructor(kwargs){this.form=this.getElement(kwargs.form),1==kwargs.debug&&this.debug(),this.init()}init(){this.submit("/vendor/white_ajax/")}debug(info=this){return console.log(info),this}getElement(selector,parent=document){return parent.querySelector(selector)}submit(url){this.form.addEventListener("submit",e=>{e.preventDefault(),console.log(111);const formData=new FormData(this.form);this.request(url,formData)})}request(url,data){async function req(url,data){let responceData=null;function getToken(name){let cookieValue=null;if(document.cookie&&""!==document.cookie){const cookies=document.cookie.split(";");for(let i=0;i<cookies.length;i++){const cookie=cookies[i].trim();if(cookie.substring(0,name.length+1)===name+"="){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break}}}return cookieValue}const responce=await fetch(url,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"form/multipart","X-Requested-With":"XMLHttpRequest","X-CSRFToken":getToken("csrftoken")},body:data}).then(responce=>responce.json()).then(data=>{responceData=data}).catch(()=>{console.log("error")});return responceData}return req(url,data)}}const sendFile=new Vendor({form:"#upload_white",debug:!0});