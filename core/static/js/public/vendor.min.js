"use strict";class Vendor{constructor(e){this.form=this.getElement(e.form),1==e.debug&&this.debug(),this.init()}init(){this.submit("/vendor/white_ajax/")}debug(e=this){return console.log(e),this}getElement(e,t=document){return t.querySelector(e)}submit(e){this.form.addEventListener("submit",t=>{t.preventDefault(),console.log(111);const o=new FormData(this.form);this.request(e,o)})}request(e,t){async function o(e,t){function o(e){let t=null;if(document.cookie&&""!==document.cookie){const o=document.cookie.split(";");for(let n=0;n<o.length;n++){const r=o[n].trim();if(r.substring(0,e.length+1)===e+"="){t=decodeURIComponent(r.substring(e.length+1));break}}}return t}let n=null;await fetch(e,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"form/multipart","X-Requested-With":"XMLHttpRequest","X-CSRFToken":o("csrftoken")},body:t}).then(e=>e.json()).then(e=>{n=e}).catch(()=>{console.log("error")});return n}return o(e,t)}}const sendFile=new Vendor({form:"#upload_white",debug:!0});